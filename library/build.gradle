plugins {
    id 'com.android.library'
    id 'maven-publish'
}


ext {
    PUBLISH_GROUP_ID = 'com.imkhalid'
    PUBLISH_ARTIFACT_ID = 'material-datepicker'
    PUBLISH_VERSION = '1.3'
}


android {
    compileSdk 31

    defaultConfig {
        minSdkVersion 14
        targetSdk 31
        minSdk 27
        testInstrumentationRunner 'androidx.test.runner.AndroidJUnitRunner'
    }


    buildTypes {
        release {
            minifyEnabled false
        }
    }
    lintOptions {
        abortOnError false
    }
    namespace 'com.imkhalid.materialdatepicker'

}

afterEvaluate {
    publishing {
        publications {
            aar(MavenPublication) {
                groupId 'com.imkhalid'
                // version property will be provided by the build environment
                artifactId project.getName()

                // Tell maven to prepare the generated "*.aar" file for publishing
                artifact("$buildDir/outputs/aar/${project.getName()}-release.aar") {
                    builtBy assembleRelease
                }
            }
        }
    }

}

dependencies {
    implementation 'androidx.legacy:legacy-support-v4:1.0.0'
    implementation 'androidx.legacy:legacy-support-v13:1.0.0'
    implementation 'com.google.android.material:material:1.0.0'

    testImplementation 'junit:junit:4.12'
    testImplementation 'com.pholser:junit-quickcheck-core:0.7'
    testImplementation 'com.pholser:junit-quickcheck-generators:0.7'

    androidTestImplementation 'androidx.annotation:annotation:1.0.0'
    androidTestImplementation 'androidx.test.ext:junit:1.1.1'
    androidTestImplementation 'androidx.test:rules:1.1.1'


}

//apply from: 'https://raw.githubusercontent.com/blundell/release-android-library/master/android-release-aar.gradle'